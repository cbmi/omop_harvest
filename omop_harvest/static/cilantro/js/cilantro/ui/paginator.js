define(["jquery","underscore","marionette","./base","../constants"],function(e,t,i,n,s){var o=n.EmptyView.extend({message:"No page results"}),r=n.LoadView.extend({message:"Loading page..."}),a=i.ItemView.extend({template:"paginator",className:"paginator",ui:{first:"[data-page=first]",prev:"[data-page=prev]",next:"[data-page=next]",last:"[data-page=last]",pageCount:".page-count",currentPage:".current-page",buttons:"[data-toggle=tooltip]"},modelEvents:{"change:pagecount":"renderPageCount","change:currentpage":"renderCurrentPage"},events:{"click [data-page]":"requestChangePage"},initialize:function(){this._changePage=t.debounce(this.changePage,s.REQUEST_DELAY)},onRender:function(){if(this.ui.buttons.tooltip({animation:!1,placement:"bottom"}),!this.model.pageIsLoading()){this.renderPageCount(this.model,this.model.getPageCount());var e=[this.model].concat(this.model.getCurrentPageStats());this.renderCurrentPage.apply(this,e)}},renderPageCount:function(e,t){this.ui.pageCount.text(t)},renderCurrentPage:function(e,t,i){this.ui.currentPage.text(t),this.ui.first.prop("disabled",!!i.first),this.ui.prev.prop("disabled",!!i.first),this.ui.next.prop("disabled",!!i.last),this.ui.last.prop("disabled",!!i.last),i.first&&(this.ui.first.tooltip("hide"),this.ui.prev.tooltip("hide")),i.last&&(this.ui.next.tooltip("hide"),this.ui.last.tooltip("hide"))},changePage:function(e){switch(e){case"first":return this.model.getFirstPage();case"prev":return this.model.getPreviousPage();case"next":return this.model.getNextPage();case"last":return this.model.getLastPage();default:throw new Error("Unknown paginator direction: "+e)}},requestChangePage:function(t){this._changePage(e(t.currentTarget).data("page"))}}),l=i.ItemView.extend({}),c=i.CollectionView.extend({itemView:l,emptyPage:o,itemViewOptions:function(e,i){return t.defaults({model:e,index:i},this.options)}}),h=i.CollectionView.extend({options:{list:!0},itemView:l,listView:c,emptyView:r,collectionEvents:{"change:currentpage":"showCurrentPage"},getItemView:function(){return this.options.list?this.listView:this.itemView},listViewOptions:function(e){return{collection:e.items}},itemViewOptions:function(e,i){var n={model:e,index:i};return this.options.list&&t.extend(n,this.listViewOptions(e,i)),t.defaults(n,this.options)},showCurrentPage:function(e,t){this.children.each(function(e){e.$el.toggle(e.model.id===t)})}});return{Paginator:a,Page:l,ListingPage:c,PageRoll:h}});
//@ sourceMappingURL=paginator.js.map